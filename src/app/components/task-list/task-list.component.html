<div style="display: flex; flex-direction: column; gap: 20px">
  <div style="display: flex; justify-content: end">
    <p-button (onClick)="visible = true" label="Add new task" />
  </div>
  <p-table [value]="tasks" styleClass="p-datatable-striped">
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let column of columns">
          {{ column.header }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-task>
      <tr>
        <td>{{ task.id }}</td>
        <td>{{ task.userId }}</td>
        <td>
          <a [routerLink]="['/tasks', task.id]">
            {{ task.title }}
          </a>
        </td>
        <td>{{ task.body }}</td>
        <td>
          <div style="display: flex; gap: 20px">
            <div
              (click)="openEditTaskForm(task)"
              class="pi pi-pencil"
              style="cursor: pointer"
            ></div>
            <div
              (click)="deleteTask(task.id)"
              class="pi pi-trash"
              style="cursor: pointer"
            ></div>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<p-dialog
  [draggable]="false"
  [header]="editedTask ? 'Edit a task' : 'Create a new task'"
  [modal]="true"
  [(visible)]="visible"
>
  <app-task-form
    [id]="editedTask ? editedTask.id : tasks.length + 1"
    (hideDialog)="visible = false"
    (addTask)="addTask($event)"
    [editedTask]="editedTask"
  ></app-task-form>
</p-dialog>
